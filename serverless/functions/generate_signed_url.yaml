handler: main.lambda_handler
environment:
  STAGE: ${self:provider.stage}
events:
- http:
    path: /{key}
    method: get
    cors: true
    documentation: ${file(serverless/documentation/generate_signed_url.yaml)}
    request:
      parameters:
        paths:
          key: true
    authorizer: ${file(serverless/kc-authorizer.yaml)}